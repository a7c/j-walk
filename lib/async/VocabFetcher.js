Object.defineProperty(exports,"__esModule",{value:true});var _this=this;var fetchVocab=exports.fetchVocab=function fetchVocab(keyword){var _apiUrlHead,_apiUrlTail,response,responseJson,results,vocabEntries;return regeneratorRuntime.async(function fetchVocab$(_context){while(1){switch(_context.prev=_context.next){case 0:_apiUrlHead='http://jisho.org/api/v1/search/words?keyword="';_apiUrlTail='"';_context.prev=2;_context.next=5;return regeneratorRuntime.awrap(fetch(_apiUrlHead+keyword+_apiUrlTail));case 5:response=_context.sent;_context.next=8;return regeneratorRuntime.awrap(response.json());case 8:responseJson=_context.sent;console.log(responseJson);results=JSON.parse(responseJson.body);console.log(results);vocabEntries=results.data.reduce(function(acc,wordData){var vocabEntry=_processVocabWord(wordData);if(vocabEntry){acc.push(vocabEntry);}return acc;},[]);console.log(vocabEntries);return _context.abrupt('return',vocabEntries);case 17:_context.prev=17;_context.t0=_context['catch'](2);console.error(_context.t0);return _context.abrupt('return',[]);case 21:case'end':return _context.stop();}}},null,_this,[[2,17]]);};var _processVocabWord=function _processVocabWord(wordData){if(!wordData.is_common){return null;}var reading=wordData.japanese[0].reading;var word=wordData.japanese[0].word||reading;var english=wordData.senses[0].english_definitions[0];var id=word+':'+english;return{id:id,word:word,reading:reading,english:english};};